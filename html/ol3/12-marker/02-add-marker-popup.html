<html lang="zh">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../v3.13.0-dist/ol.css" type="text/css">
    <style>
    #mapDiv {
        height: 100%;
        width: 100%;
    }
    #marker {
        width: 20px;
        height: 20px;
        border: 1px solid #088;
        border-radius: 10px;
        background-color: #0FF;
        opacity: 0.5;
      }
    </style>
    <script src="../v3.13.0-dist/ol-debug.js" type="text/javascript"></script>
    <title>[Maker]:添加Marker Popup</title>
</head>

<body onload="init()">
    <h2>[Maker]:添加Marker Popup</h2>
    <div id="marker" title="Marker"></div>
    <div id="mapDiv"></div>
</body>

</html>
<script type="text/javascript">
/**
 * Define mapObj
 */
var mapObj;
var marker;
var lon = 116.3910484;
var lat = 39.91642658;
/**
 * init Page
 */
function init() {
    loadMap();
    addMarker();
}

/**
 * Load Map
 */
function loadMap() {

    mapObj = new ol.Map({
        target: 'mapDiv',
        layers: [
	        new ol.layer.Tile({
		        source: new ol.source.MapQuest({
		            layer: 'sat'
		        })
	    	})
	    ],
        view: new ol.View({
            center: ol.proj.fromLonLat([116.3910484, 39.91642658]),
            zoom: 8,
        })
    });
}

function addMarker(){
	marker = new ol.Overlay({
		position : ol.proj.fromLonLat([lon,lat]),
		positioning : 'center-center',
		element : document.getElementById('marker'),
		stopEvent: false
	});
	mapObj.addOverlay(marker);
}

</script>
